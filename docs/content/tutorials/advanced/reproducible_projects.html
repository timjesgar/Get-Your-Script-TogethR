<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE" xml:lang="de-DE"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="TLJ">

<title>Reproduzierbare Analyseprojekte mit R – Get Your Script TogethR!</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-972413c61263d3b7e87374ee8efee60f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/videojs/video.min.js"></script>
<link href="../../../site_libs/quarto-contrib/videojs/video-js.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Get Your Script TogethR!</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Suchen"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navigation umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../../content/tutorials/index.html" aria-current="page"> 
<span class="menu-text">TUTORIALS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../content/how-tos/index.html"> 
<span class="menu-text">HOW-TOS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../content/spotlights/index.html"> 
<span class="menu-text">SPOTLIGHTS</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../content/tutorials/advanced/index.html">Fortgeschrittene Themen</a></li><li class="breadcrumb-item"><a href="../../../content/tutorials/advanced/reproducible_projects.html">Reproduzierbare Analyseprojekte mit R</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/tutorials/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorials</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/tutorials/beginner/index.qmda" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reinführung in R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/tutorials/beginner/fuer-einsteigr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Für EinsteigR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/tutorials/beginner/Rste-schritte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rste Schritte</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/tutorials/beginner/saubR-machen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SaubR machen</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/tutorials/advanced/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fortgeschrittene Themen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/tutorials/advanced/reproducible_projects.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Reproduzierbare Analyseprojekte mit R</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Auf dieser Seite</h2>
   
  <ul>
  <li><a href="#wieso-reproduzierbare-r-projekte" id="toc-wieso-reproduzierbare-r-projekte" class="nav-link active" data-scroll-target="#wieso-reproduzierbare-r-projekte">Wieso Reproduzierbare R-Projekte?</a></li>
  <li><a href="#tldr" id="toc-tldr" class="nav-link" data-scroll-target="#tldr">tl;dr</a></li>
  <li><a href="#im-detail" id="toc-im-detail" class="nav-link" data-scroll-target="#im-detail">Im Detail</a>
  <ul class="collapse">
  <li><a href="#struktur-eines-analyseprojekts" id="toc-struktur-eines-analyseprojekts" class="nav-link" data-scroll-target="#struktur-eines-analyseprojekts">Struktur eines Analyseprojekts</a></li>
  <li><a href="#erstellen-des-projektordners" id="toc-erstellen-des-projektordners" class="nav-link" data-scroll-target="#erstellen-des-projektordners">Erstellen des Projektordners</a>
  <ul class="collapse">
  <li><a href="#erstelle-die-unterordner-struktur" id="toc-erstelle-die-unterordner-struktur" class="nav-link" data-scroll-target="#erstelle-die-unterordner-struktur">Erstelle die Unterordner-Struktur</a></li>
  </ul></li>
  <li><a href="#sei-konsistent-in-der-benennung-von-dateien-objekten-und-variablen" id="toc-sei-konsistent-in-der-benennung-von-dateien-objekten-und-variablen" class="nav-link" data-scroll-target="#sei-konsistent-in-der-benennung-von-dateien-objekten-und-variablen">Sei konsistent in der Benennung von Dateien, Objekten und Variablen</a></li>
  <li><a href="#nutze-renv-für-eine-reproduzierbare-r-umgebung" id="toc-nutze-renv-für-eine-reproduzierbare-r-umgebung" class="nav-link" data-scroll-target="#nutze-renv-für-eine-reproduzierbare-r-umgebung">Nutze <em>renv</em> für eine reproduzierbare R-Umgebung</a></li>
  <li><a href="#nutze-here-für-relative-pfade" id="toc-nutze-here-für-relative-pfade" class="nav-link" data-scroll-target="#nutze-here-für-relative-pfade">Nutze <em>here</em> für relative Pfade</a></li>
  <li><a href="#code-kommentare-sinnvoll-einsetzen" id="toc-code-kommentare-sinnvoll-einsetzen" class="nav-link" data-scroll-target="#code-kommentare-sinnvoll-einsetzen">Code Kommentare sinnvoll einsetzen</a></li>
  <li><a href="#lass-deinen-code-für-sich-selbst-sprechen" id="toc-lass-deinen-code-für-sich-selbst-sprechen" class="nav-link" data-scroll-target="#lass-deinen-code-für-sich-selbst-sprechen">Lass deinen Code für sich selbst sprechen</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../content/tutorials/advanced/index.html">Fortgeschrittene Themen</a></li><li class="breadcrumb-item"><a href="../../../content/tutorials/advanced/reproducible_projects.html">Reproduzierbare Analyseprojekte mit R</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Reproduzierbare Analyseprojekte mit R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-contents">
             <p>TLJ </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="wieso-reproduzierbare-r-projekte" class="level1">
<h1>Wieso Reproduzierbare R-Projekte?</h1>
<p>Ein Ziel von Open Science ist die Reproduzierbarkeit von Studienergebnissen auf Basis der Originaldaten. Um dies zu gewährleisten, ist es hilfreich, neben den Originaldaten auch die genutzten Code-Skripte im “Plug-and-Play”-Format aufzubereiten und zu veröffentlichen. “Plug-and-Play” bezieht sich hierbei darauf, dass eine andere Person durch das einfache durchlaufen lassen der Skripte zu dem selben Ergebnis kommt, die auch berichtet wurden.</p>
<p>Was zunächst simpel klingt, ist in der Anwendung meist komplexer als man denkt: Skripte entwickeln sich über den Lauf eines Projektes organisch zu Ungetümen, bei denen selbst die verfassende Person nicht mehr durchblickt. Wichtige Dateipfade werden hard-coded, sodass das Skript nicht mehr funktioniert, wenn es verschoben wird. Oder, ein R-Paket wird auf eine Art aktualisiert, dass der gestern noch funktionierende Code nur noch Fehler wirft. Auch wenn nicht jede Eventualität vorhergesehen werden kann, so kann man doch Schritte gehen, um solche Probleme möglichst minimal zu halten. Einige diese Schritte, von vorausschauendem Kommentieren, über adaptive relative Pfaden, zu reproduzierbaren R-Umgebungen, sollen hier vorgestellt werden um einen Einblick zu geben, wie man mit überschaubarem Aufwand die eigenen Analysen reproduzierbarer machen kann.</p>
</section>
<section id="tldr" class="level1">
<h1>tl;dr</h1>
<p>Schritte zu einem reproduzierbareren Analyseprojekt:</p>
<ul>
<li>Erstelle für jedes Analyseprojekt einen <strong>Projektordner mit verständlicher Unterordnerstruktur</strong>.</li>
<li><strong>Ordne deine Code-Skripte nachvollziehbar</strong>: Setup (Pakete laden, globale Variablen definieren) -&gt; Daten laden -&gt; Datentransformationen -&gt; Auswertung</li>
<li><strong>Sei konsistent in deiner Benennung von Objekten und Variablen</strong> (z.B. <code>snake_case</code> oder <code>CamelCase</code>, jedoch nicht <code>Wasauchimmerdashierist</code>).</li>
<li><strong>Nutze eine reproduzierbare R-Umgebung mittels <code>renv::</code></strong>, damit Updates externer R-Pakete nicht deinen Code kaputt machen.</li>
<li><strong>Nutze relative Pfade mittels <code>here::</code></strong>, um dein Projekt portabel zu machen.</li>
<li><strong>Nutze Code-Kommentare, um den Sinn hinter deinem Vorgehen zu erklären</strong>, nicht die Funktionsweise von etablierten Funktionen.</li>
<li><strong>Behandle deinen Code als “First-class Citizen”</strong>: Originaldaten + Auswertungscode &gt; Aufbereitete Daten, von denen man nicht weiß, wie sie zustande kamen.</li>
</ul>
</section>
<section id="im-detail" class="level1">
<h1>Im Detail</h1>
<section id="struktur-eines-analyseprojekts" class="level2">
<h2 class="anchored" data-anchor-id="struktur-eines-analyseprojekts">Struktur eines Analyseprojekts</h2>
<p>Zuallererst ist es hilfreich, für jedes Analyseprojekt einen dedizierten Ordner zu haben, anstatt einen Riesenordner mit diversen Skripten von verschiedenen Projekten zu kultivieren. Dieses partialisierte Vorgehen hat einige Vorteile:</p>
<ul>
<li><strong>Übersichtlichkeit</strong>: Du suchst nach einem Projekt, welches du vor Jahren abgeschlossen hast? Ein Ordner <em>202X_projekt-name</em> ist schnell gefunden.</li>
<li><strong>Erwartbarkeit</strong>: Idealerweise ist der Aufbau jedes Projekts, also welche Unterordner es gibt und wo relevante Dateien liegen, identisch. Das macht es einfach, sich in Projekte reinzudenken, die man lange nicht mehr geöffnet hat.</li>
<li><strong>Zuordbarkeit relevanter Dateien</strong>: Du nennst für jede Analyse den Originaldatensatz gleich? Das kann schnell zum Problem werden, wenn du nicht mehr weißt, ob <em>raw_data1.csv</em> oder <em>raw_data2.csv</em> der richtige Datensatz für dein aktuelles Projekt ist. Ein Projektordner löst das Problem, da nur die zugehörigen Dateien in den jeweiligen Ordnern gespeichert werden.</li>
<li><strong>Portabilität</strong>: Du willst deine Analysen mit jemand anderem teilen? Kein Problem! Teile einfach den gesamten Projektordner!</li>
</ul>
<p>Du siehst, so ein Analyseprojekt kann einiges leichter machen. Damit du vollumfänglich von diesen Vorteilen profitieren kannst, müssen wir allerdings beim Setup des Projekts einige Dinge beachten. Fangen wir erstmal mit der Ordnerstruktur selbst an:</p>
</section>
<section id="erstellen-des-projektordners" class="level2">
<h2 class="anchored" data-anchor-id="erstellen-des-projektordners">Erstellen des Projektordners</h2>
<p>Das einfachste Vorgehen ist, einen Ordner manuell zu erstellen und mit einem deskriptiven Name zu versehen (z.B. <em>2025_projekt-projektname</em>). Wenn du aber, wie wahrscheinlich die meisten, deine R-Analysen mittels einer IDE (Integrated Development Environment) wie <a href="https://posit.co/products/open-source/rstudio/?sid=1">RStudio</a> oder <a href="https://positron.posit.co/">Positron</a> durchführst, ist es sinnvoll, das Projektsetup der jeweiligen IDE zu überlassen. Dadurch werden dir einige Setup-Schritte abgenommen und du kannst dir sicher sein, dass deine IDE deinen Projektordner auch als Projekt erkennt.</p>
<p>Hier also das Vorgehen für zwei der bekanntesten IDEs für das Arbeiten mit R:</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Projekt-Setup mit RStudio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="../../../resources/tutorials/reproducible_projects/create-project_rstudio.mp4"></video></div>
<ol type="1">
<li><p>Öffne RStudio</p></li>
<li><p>Klicke oben Links im Interface auf das R Projekt Icon (R in einem blauen Würfel; Video 0:05)</p></li>
<li><p>Es öffnet sich ein Popup-Fenster, in dem wir auswählen können, ob wir einen neuen Ordner für das Projekt erstellen wollen, das Projekt mit einem bestehenden Ordner verknüpfen wollen, oder ein bestehendes Projekt mit Version Control (z.B. Git) klonen wollen. Wir wählen die erste Option für ein ganz frisches Projekt (Video 0:11)</p></li>
<li><p>Im nächsten Popup-Fenster können wir die Art des Projekts auswählen. Optionen beinhalten Projekte für das Erstellen von R Paketen, Shiny Apps, oder dem Schreiben von Texten mit Code via Quarto. Wir entscheiden uns für die oberste Option: Ein einfaches R Projekt (Video 0:16)</p></li>
<li><p>Im nächsten Popup-Fenster können wir den Projektnamen und Speicherort wählen. Außerdem bestätigen wir hier, dass wir <code>renv</code> nutzen wollen, um die von uns genutzten R-Pakete direkt mit dem Projekt zu verbinden. Wenn wir zufrieden mit unserer Auswahl sind, erstellen wir das neue Projekt mittels eines Klicks auf <em>Create Project</em> (Video 0:37)</p></li>
<li><p>Sobald wir das neu erstellte Projekt öffnen, sehen wir in der oberen rechten Ecke der IDE den Namen unseres Projekts und können damit sicher sein, dass wir unser Projekt richtig geöffnet haben. Außerdem sehen wir in der Konsole, wie <code>renv</code> für das Projekt initialisiert wird. Nach erfolgreicher Initialisierung erscheinen ein neuer Ordner (<em>renv/</em>), sowie zwei neue Dateien (<em>.Rprofile</em> und <em>renv.lock</em>) in unserem Projektordner. Neben den Dateien von <code>renv</code> sehen wir außerdem eine Datei, die den Projektnamen beinhaltet und mit <em>.Rproj</em> endet. Durch diese Datei erkennt RStudio, dass es sich bei dem Ordner um ein R Projekt handelt. Sie dient außerdem als Referenz fur das R-Paket <code>here</code>. <code>here</code> hilft uns dabei, Ordner und Dateien in unserem Projekt mittels relativer Pfade zu finden. Dafür muss <code>here</code> allerdings wissen, wo die oberste Ebene unseres Projektes ist. Glücklicherweise erkennt <code>here</code> die <em>.Rproj</em> Datei als Referenz an, weswegen wir nichts weiteres tun müssen (Video 0:44)</p></li>
<li><p>Damit steht der Rohbau deines Projekts, congrats! Um dein Projekt neu zu öffnen, kannst du einfach die <em>.Rproj</em> Datei in deinem Projektordner doppelklicken, wodurch eine neue RStudio Session mit aktiviertem Projekt geöffnet wird. Alternativ kannst du in RStudio oben Rechts in der IDE auf das R Projekt Icon klicken und unter <em>Open Project…</em> dein Projekt auswählen</p></li>
</ol>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Projekt-Setup mit Positron
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="quarto-video"><video id="video_shortcode_videojs_video2" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="../../../resources/tutorials/reproducible_projects/create-project_positron.mp4"></video></div>
<ol type="1">
<li><p>Öffne Positron</p></li>
<li><p>Klicke oben Links im Interface auf <em>New</em> und wähle in der Auswahl <em>New Folder from Template…</em> aus (Video 0:05)</p></li>
<li><p>Es öffnet sich ein Popup-Fenster, in dem wir die präferierte Programmierplattform wählen können. Wir wählen hier <em>R Project</em> und bestätigen (Video 0:12)</p></li>
<li><p>Im nächsten Popup-Fenster können wir den Projektnamen und Speicherort wählen. Außerdem können wir hier unser Projekt für Version Control mittels Git vorbereiten (Video 0:21)</p></li>
<li><p>Als nächstes wählen wir die von uns genutzte R Version aus. Wir bleiben hier bei der Default Auswahl: Der vom System genutzten Version. Außerdem bestätigen wir hier, dass wir <code>renv</code> nutzen wollen, um die von uns genutzten R-Pakete direkt mit dem Projekt zu verbinden. Wenn wir zufrieden mit unserer Auswahl sind, erstellen wir das neue Projekt mittels eines Klicks auf <em>Create</em> (Video 0:41)</p></li>
<li><p>Sobald wir das neu erstellte Projekt öffnen, sehen wir in der oberen rechten Ecke der IDE den Namen unseres Projekts und können damit sicher sein, dass wir unser Projekt richtig geöffnet haben. Außerdem sehen wir in der Konsole, wie <code>renv</code> für das Projekt initialisiert wird. Nach erfolgreicher Initialisierung erscheinen ein neuer Ordner (<em>renv/</em>), sowie zwei neue Dateien (<em>.Rprofile</em> und <em>renv.lock</em>) in unserem Projektordner. (Video 0:57)</p></li>
<li><p>Nun bleibt uns nur noch, eine Referenz für das R-Paket <code>here</code> zu setzen. <code>here</code> hilft uns dabei, Ordner und Dateien in unserem Projekt mittels relativer Pfade zu finden. Dafur muss <code>here</code> allerdings wissen, wo die oberste Ebene unseres Projektes ist. Dafür erstellen wir eine leere Datei mit dem Namen <em>.here</em> auf der obersten Ebene unseres Projektes. Dafür können wir z.B. den <em>Explorer</em>-Tab von Positron auf der linken Seite nutzen (Video 1:12)</p></li>
<li><p>Damit steht der Rohbau deines Projekts, congrats! Um dein Projekt in einer neuen Positron Session zu öffnen, kannst du in der oberen linken Ecke der IDE unter <em>Open</em> -&gt; <em>Open Folder</em>.</p></li>
</ol>
</div>
</div>
</div>
<section id="erstelle-die-unterordner-struktur" class="level3">
<h3 class="anchored" data-anchor-id="erstelle-die-unterordner-struktur">Erstelle die Unterordner-Struktur</h3>
<p>Wenn du nach Monaten Pause dein Analyseprojekt mal wieder öffnest, welchen Anblick würdest du lieber sehen?</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Ordner A</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Ordner B</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><img src="../../..\resources/tutorials/reproducible_projects/folder-structure_a.png" class="img-fluid"></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><img src="../../..\resources/tutorials/reproducible_projects/folder-structure_b.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>Wenn deine Antwort auf die Frage <strong>Ordner A</strong> ist, dann liebst du vermutlich das Chaos. Für alle anderen, die lieber eine klare Struktur und Übersichtlichkeit bevorzugen, ist es hilfreich, eine konsistente Unterordner-Struktur zu etablieren. Das hilft nicht nur dir selbst, wenn duch dich wieder in alte Projekte reinfinden musst, sondern auch anderen, die deine Projekte nachvollziehen wollen.</p>
<p>Die genauer Ordner Struktur ist natürlich Geschmackssache und hängt auch von der Art des Projekts ab. Ein Vorschlag für eine allgemein gehaltene Struktur könnte so aussehen (Ordner sind <strong>fett</strong> und Dateien <em>kursiv</em> dargestellt):</p>
<ul>
<li><strong>data</strong>: Alle Daten sollten an einem Ort gesammelt werden
<ul>
<li><strong>raw</strong>: Originaldaten, die nie verändert werden sollten</li>
<li><strong>processed</strong>: Aufbereitete Daten, die im Projekt genutzt werden</li>
</ul></li>
<li><strong>scripts</strong>: Alle R Skripte (oder andere Programmiersprachen) sollten hier liegen
<ul>
<li><em>01_prepare_data.R</em>: Skript zum Laden und Aufbereiten der Daten</li>
<li><em>02_analysis.R</em>: Skript zur Durchführung der Analysen</li>
<li><em>03_visualization.R</em>: Skript zur Erstellung der Abbildungen</li>
</ul></li>
<li><strong>models</strong>: Gespeicherte Modelle (z.B. via <code>saveRDS()</code>)</li>
<li><strong>figures</strong>: Alle erstellten Abbildungen</li>
<li><strong>manuscript</strong>: Alle Dateien für das Manuskript
<ul>
<li><strong>drafts</strong>: Alle Entwürfe des Manuskripts</li>
<li><strong>final</strong>: Die finale Version des Manuskripts</li>
</ul></li>
</ul>
<p>Wichtig ist, dass du eine Struktur findest, die für dich und dein Projekt Sinn macht. Du kannst die obige Struktur als Ausgangspunkt nutzen und sie an deine Bedürfnisse anpassen. Allgemein gilt: Sei explizit und konsistent in deiner Struktur, damit du und andere sich leicht zurechtfinden können.</p>
</section>
</section>
<section id="sei-konsistent-in-der-benennung-von-dateien-objekten-und-variablen" class="level2">
<h2 class="anchored" data-anchor-id="sei-konsistent-in-der-benennung-von-dateien-objekten-und-variablen">Sei konsistent in der Benennung von Dateien, Objekten und Variablen</h2>
<p>Ein weiterer wichtiger Aspekt für die Reproduzierbarkeit ist die Konsistenz in der Benennung von Dateien, Objekten und Variablen. Wenn du z.B. in einem Skript eine Variable <code>data_clean</code> nennst und in einem anderen Skript <code>cleaned_data</code>, kann das schnell zu Verwirrung führen. Des Weiteren sollten besonders Variablennamen sowohl maschinen- als auch menschenlesbar sein. Das erstere damit du keine Probleme mit der Programmiersprachen deines Vertrauens bekommst (Bindestriche sind z.B. in R nicht erlaubt), das letztere damit du und andere nicht die Krise kriegen. Mehrere Styles haben sich dafür in der Coding-Community etabliert, z.B. <code>snake_case</code> (z.B. <code>data_clean</code>), <code>camelCase</code> (z.B. <code>dataClean</code>), oder <code>PascalCase</code> (z.B. <code>DataClean</code>). Wichtig ist, dass du dich für einen Stil entscheidest und diesen konsequent durchziehst. Falls du dich inspirieren lassen willst, findest du <a href="https://style.tidyverse.org/">hier</a> den Style Guide des Tidyverse (einem Set an viel genutzten Paketen, wie z.B. <em>dplyr</em> oder <em>ggplot2</em>), der viele bewährte Praktiken für das Arbeiten mit R beinhaltet.</p>
<p>Das selbe geht übrigens auch für die Formatierung von Code, also Einrückungen, Leerzeilen und so weiter. Da aber niemand Zeit dafür hat, sich selbst um solche Details zu kümmern, empfiehlt es sich hier ein Formatierungswerkzeug zu nutzen, welches das ganze automatisiert. Für R gibt es z.B. <a href="https://posit-dev.github.io/air/">Air</a>, welches du unter anderem so einstellen kannst, dass es deinen Code automatisch formatiert, sobald du ein Skript speicherst.</p>
</section>
<section id="nutze-renv-für-eine-reproduzierbare-r-umgebung" class="level2">
<h2 class="anchored" data-anchor-id="nutze-renv-für-eine-reproduzierbare-r-umgebung">Nutze <em>renv</em> für eine reproduzierbare R-Umgebung</h2>
</section>
<section id="nutze-here-für-relative-pfade" class="level2">
<h2 class="anchored" data-anchor-id="nutze-here-für-relative-pfade">Nutze <em>here</em> für relative Pfade</h2>
</section>
<section id="code-kommentare-sinnvoll-einsetzen" class="level2">
<h2 class="anchored" data-anchor-id="code-kommentare-sinnvoll-einsetzen">Code Kommentare sinnvoll einsetzen</h2>
</section>
<section id="lass-deinen-code-für-sich-selbst-sprechen" class="level2">
<h2 class="anchored" data-anchor-id="lass-deinen-code-für-sich-selbst-sprechen">Lass deinen Code für sich selbst sprechen</h2>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<script>videojs(video_shortcode_videojs_video1);</script>
<script>videojs(video_shortcode_videojs_video2);</script>




</body></html>